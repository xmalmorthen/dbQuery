const $mainCharge={vars:{toastMsg:null,sessitrvl:null},init:function(e){Rx.Observable.interval(0).subscribe(()=>{});e=Object.assign({},{loadingOverlaySetup:null,locale:null},e),$mainCharge.actions.checkSession(),moment.locale(e.locale?e.locale:"es"),$.LoadingOverlaySetup(e.loadingOverlaySetup?e.loadingOverlaySetup:{image:"",fontawesome:"fa fa-cog fa-spin",fontawesomeAutoResize:!0,fontawesomeOrder:1,text:"",textAutoResize:!0,textResizeFactor:1,direction:"row",fade:[100,100],zIndex:9999999}),window.addEventListener("beforeunload",$mainCharge.actions.beforeunload),window.addEventListener("load",$mainCharge.actions.load)},actions:{load:function(){window.addEventListener("online",$mainCharge.actions.updateOnlineStatus),window.addEventListener("offline",$mainCharge.actions.updateOnlineStatus)},beforeunload:function(e){return $.LoadingOverlay("show"),clearInterval($mainCharge.vars.sessitrvl),null},updateOnlineStatus:function(e){navigator.onLine?($.LoadingOverlay("hide"),$mainCharge.vars.toastMsg.removeToast(),$.setToast({bgColor:"bg-success",icon:'<i class="fa fa-exclamation-triangle" aria-hidden="true"></i>',title:"Conexi贸n",msg:"Conexi贸n a internet recuperada"})):($mainCharge.vars.toastMsg=$.setToast({bgColor:"bg-danger",autohide:!1,dismissible:!1,icon:'<i class="fa fa-exclamation-triangle" aria-hidden="true"></i>',title:"Conexi贸n perdida",msg:"Conexi贸n a internet perdida"}),$.LoadingOverlay("show"))},checkSession:()=>{$mainCharge.vars.sessitrvl=setInterval(async()=>{Cookies.get("logOut")&&("signIn"!=window.location.pathname.split("/")[window.location.pathname.split("/").length-1]&&$.LoadingOverlay("show"),clearInterval($mainCharge.vars.sessitrvl),await new Promise(e=>{Cookies.remove("logOut"),setTimeout(()=>{e(!0)},1e3)}),"signIn"!=window.location.pathname.split("/")[window.location.pathname.split("/").length-1]&&(location.href=baseUrl))},1e3)}}},dismissPopover=function(e){$('[data-toggle="popover"],[data-original-title]').each(function(){$(this).is(e.target)||0!==$(this).has(e.target).length||0!==$(".popover").has(e.target).length||$(this).data("noouterclick")||((($(this).popover("hide").data("bs.popover")||{}).inState||{}).click=!1)})};$(document).ready(()=>{$("body").on("click",dismissPopover),$('[data-toggle="popover"]').popover(),$mainCharge.init()});